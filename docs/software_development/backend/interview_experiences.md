# 面经

## 腾讯会议暑期实习

GET和POST的区别？

TCP三次握手过程？

进程间通信方式？

调度算法有哪几种？

进程和线程的区别？

常用的Linux命令？

MySQL隔离级别有哪些？举个例子说明

ES倒排索引？看过源码吗？

你项目说的那个OrderDict（我项目中使用了LRU算法，通过Python的OrderDict实现）是如何实现的？

[python实现LRU算法_lru python-CSDN博客](https://blog.csdn.net/hhs_1996/article/details/119876521)

微信扫码登录的过程？

程序部署到Linux中，发生了CPU占用很高的情况，如何排查？

[https://blog.csdn.net/yingchao_yuan/article/details/109199868#:~:text=这个非常简单，一条命令搞定，top,-p%20进程pid，这样就可以：这样就可以持续的观察你的程序的cpu占用情况，如果一直居高不下，就可能是有问题了%E3%80%82](https://blog.csdn.net/yingchao_yuan/article/details/109199868#:~:text=这个非常简单，一条命令搞定，top,-p%20进程pid，这样就可以：这样就可以持续的观察你的程序的cpu占用情况，如果一直居高不下，就可能是有问题了%E3%80%82)

## 美团AI面

cookie和session的区别？

如何查看系统进程？如何结束该进程？

数据库分区表的作用是什么？

C++的引用是什么？引用和指针的区别？

如何设计一个在线游戏排行榜功能，应该使用什么数据结构和更新机制？

你是如何关注软件开发领域的前沿进展？

请介绍一下你曾发现过的一个潜在的问题，你是如何预见并解决它的？

- 我：提到了某项目的api不稳定，我们通过测试发现了
- AI：你是如何验证和测试这个api的稳定性，使用了什么方法和工具？

## TME一面【秒挂】

谈实习经历

- 面试官评价工程量不大

共享屏幕本地ide写算法题，自己输入测试用例

- 二分查找
- 字符串全排列

说一下malloc和new的区别

说一下协程

说一下mvcc的底层实现原理

- 我答了readView和undo log，但是面试官要求更深入更详细一点

你是如何学习C++的

看了什么C++的书

你有做过偏底层的后端项目吗

看了什么数据库的书

算法题没有全部ac，八股没怎么答出来，感觉挂

## TP-Link 一面

介绍实习项目

为什么要有多态，如何实现多态

mvcc实现原理

## TP-Link 二面

40亿不重复数字，如何快速找到其中的一个或多个是否存在

20个小球，其中有一个次品，使用天平秤量，最少秤量次数

若干盏灯，一开始都是灭的，第一次拨动所有灯，第二次拨动2，4，6...号灯的开关...求第100盏灯亮or暗

环形链表I

## TP-Link 三面

问实习

构造函数可以是虚函数吗，为什么

## 腾讯广告一面（滨海线下）【挂】

简单问了一下实习经历，提问如何保证数据的一致性（即是否有做对账）

- 对账是我这个实习项目的上游，由其他实习生负责

无算法题

从项目出发提问八股

- 关于你校友的项目，对于用户表，我们就假设微信那种量级，你如何设计数据表
  - 查询 -> 索引
  - 数据量大->分库分表
- 假设有int64的id、varchar(64)的用户名、性别、更新时间等字段，你会如何设计索引的
  - 选唯一的
  - 尽可能有序的，最好是递增的
- 你说选唯一的，那么假设int64的id、varchar(64)的用户名都是唯一的，你选哪个？
  - 这里我脑子抽了选了varchar(64)我说因为字节更少，面试官说你是不是太紧张了
  - 我才意识过来然后选了int64，算错数了，选int64之后面试官露出满意的微笑
- 为什么尽量有序，最好是递增
  - B+树，页分裂问题
- 谈一下为什么索引是B+树，不是二叉搜索树、B树等等
  - 常规回答，简单来说就是保证磁盘IO次数尽可能少
  - 面试官补充，选B+树不选B树还有一个原因是它很适合范围查找，B树范围查找要找多个非叶子节点
- 有接触过慢查询吗，怎么查看慢查询在哪个语句上
  - explain查看执行计划，看索引是否被使用
- 你有考虑你项目如何实现高可用吗？
  - 我回答了缓存啥的，面试官说他想问的不是这个，是那种高并发如何处理并发问题，不是如何处理性能问题
  - 我回答第一反应是加锁，他说对
- 比如说mysql 有两个用户想要先读数据，如果读出来有这条记录就获取，如果没有就insert，你怎么实现
  - 面试官提醒直接加锁还是太麻烦了，有没有高效率一点的
  - 我苦思冥想还是不知道，他问我mysql有哪些锁
- mysql有哪些锁
  - 我：列举
  - mysql是如何实现间隙锁的，有什么语法
    - 我：select for update
    - 面试官说对
- 你了解乐观锁吗，我说了解，大概讲了一下乐观锁是读的时候不加锁，写的时候加锁
  - 面试官纠正并解释，乐观锁是默认不会发生并发问题，读的时候放心读，写的时候需要程序员自己定义逻辑，在业务代码中加入while循环判断某状态or某条件是否发生了改变，如果发生改变，说明发生了并发问题，需要进行更新，也就是前面说的写。这种方式比锁性能更好，因为锁不允许其他业务读取，但乐观锁缺点是需要程序员自己在业务代码中判断条件
- 假设两个服务器，我发现两个服务器之间发送不了信息，你如何排查
  - 我：先ping一下
  - 问：ping哪一层
  - 我：ip层
  - 问：使用的是什么协议
  - 我：icmp
  - 问：如果ping的通，但还是发送不了呢，后面提示了从ip往上思考
  - 我自言自语：tcp发送不了会是啥问题呢
  - 我：netstat查看端口可以吗
  - 面试官笑：你不能访问我的服务器
  - 想不出来，他问telnet用过吗，我说用过，他问如果用telnet看tcp，怎么写呢，我还是不会。他说因为telnet是tcp层的，所以telnet ip + 端口就行
  - 面试官：如果telnet也行不通呢
  - 我抢答：那就是http有问题。
  - 面试官：http如何查看是哪行代码出问题，Linux有用过相关的工具吗
  - 我：top -> pstack -> gdb
  - 问：pstack看的是什么
    - 我：堆栈信息
  - 问：gdb不太好，还有什么工具呢
  - 我实在想不出来，他解释还有perf和strace，然后解释了它们的用途
- 对于Redis哨兵机制的原理有了解吗？
  - 我实在没有，摇了摇头
- 有自己部署过Redis集群吗
  - 我实在没有，摇了摇头
- 好，那不问Redis了
  - 常规回答
- 分布式锁了解吗
  - 不了解
  
- 问三次握手
- 四次挥手呢
  - 常规回答
- 为什么需要2MSL
  - 我说因为MSL是报文最大存活时间，需要保证能够接收到ACK
  - 面试官说如果我不接收ACK，直接关闭呢，会怎么样
  - 我想了很久，面试官提示联系一下前面说的序列号
    - 我悟了，打断说，是因为要保证FIN报文不是历史报文，也就是保证报文的有序性
    - 面试官终于露出了满意的微笑

反问环节

- 您这边业务是啥
  - 解释了10min，大概是做一个中介平台，连接企业和微信广告投送，我们平台进行抽成来盈利
- 我如果进入了您的部门，需要学习什么知识
  - 目前go为主，C++为辅
- 今天有机会二面吗
  - 这个要看面试官的时间，但估计没时间，我一面都面不过来

## 腾讯微信支付一面【秒挂】

问实习

- mysql修改字段tdw数据会怎么办
- 字段重命名呢，tdw会增加字段还是会删除字段，原来的数据会怎么样呢
- 有考虑过mysql分库分表tdw会怎么办吗



事务隔离级别

- 已提交读是什么意思
- 为什么会存在不可重复读，为什么会存在幻读
- 如何解决幻读

面向过程和面向对象的区别

为什么需要类，为什么需要多态

介绍一下智能指针

read是阻塞还是非阻塞

介绍一下select、poll和epoll

进程间通信方式

- 管道是单工还是双工的，为什么
- 先创建管道还是先fork
  - 这个我没答出来

分布式CAP原理

为什么会有粘包问题

- 我答的是因为TCP面向字节流
- 面试官说想听到的是 tcp分不清消息的边界

什么是死锁，如何避免死锁



反问

- 做什么业务：c to b 商户微信支付
- 需要如何提升，背八股是没用的，需要知其所以然，以后工作用到解决方案需要当年八股的深入理解



秒挂